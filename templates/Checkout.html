{% extends 'Store/layouts/main.html' %}
{% load static %}
{% block content %}

<style>
    .container-custom {
        margin-left: 80px;
    }

    .form-label {
        font-family: 'Times New Roman', Times, serif;
    }

    .form-control-custom {
        font-size: 23px;
    }

    .form-textarea {
        font-size: 23px;
        height: 200px;
    }

    .card-title-custom {
        font-size: 27px;
        font-family: 'Times New Roman', Times, serif;
    }

    .order-summary-table th, .order-summary-table td {
        font-size: 23px;
    }

    .order-summary-table td img {
        height: 50px;
        width: 50px;
        margin-right: 10px;
    }

    .order-summary-grand-total {
        font-size: 23px;
    }

    .btn-place-order {
        height: 50px;
        font-size: 23px;
        font-family: 'Times New Roman', Times, serif;
    }

    footer {
        display: flex;
        flex-wrap: wrap;
        background-color: rgb(6, 8, 71);
        padding: 40px 5%;
        color: black;
        margin-top: 300px;
        height: 900px;
    }

    .footer-col {
        flex: 1;
        min-width: 200px;
        margin-bottom: 20px;
    }

    .footer-col h4 {
        margin-bottom: 20px;
        font-weight: bold;
        font-size: 23px;
        color: rgb(156, 47, 14);
        text-transform: capitalize;
        position: relative;
    }

    .footer-col p {
        color: white;
    }

    .footer-col h4::before {
        content: '';
        position: absolute;
        left: 0;
        bottom: -6px;
        background-color: green;
        height: 2px;
        width: 90px;
    }

    ul {
        list-style: none;
        padding: 0;
    }

    ul li {
        margin-bottom: 8px;
    }

    ul li a {
        display: block;
        font-size: 23px;
        text-transform: capitalize;
        color: white;
        text-decoration: none;
        transition: 0.4s;
        font-family: "Lora";
    }

    ul li a:hover {
        color: Orange;
        padding-left: 2px;
    }

    .links a {
        display: inline-block;
        height: 50px;
        width: 45px;
        color: black;
        background-color: rgba(40, 130, 214, 0.8);
        margin: 0 10px 10px 0;
        text-align: center;
        line-height: 44px;
        border-radius: 50%;
        transition: 0.4s;
    }

    .links a:hover {
        color: white;
        background-color: Orange;
    }

    .line {
        text-align: center;
        font-size: 14px;
        margin-top: 20px;
    }

    @media (max-width: 740px) {
        .footer-col {
            width: 100%;
            text-align: center;
        }

        .footer-col h4::before {
            display: none;
        }
    }

    @media (max-width: 555px) {
        footer {
            padding: 20px 2%;
            height: 600px;
        }

        .footer-col h4 {
            font-size: 20px;
            margin-left: -30px;
        }

        .footer-col p {
            font-size: 10px;
            margin-left: 20px;
        }

        ul li a {
            font-size: 15px;
        }

        .line {
            font-size: 12px;
        }
    }

    .ajs-message.ajs-success {
        border-radius: 20px;
        background-color: rgb(8, 8, 63);
        color: white;
        padding: 5px;
        margin-top: -2050px;
        font-size: 20px;
        font-family: 'Times New Roman', Times, serif;
        width: 250px;
        margin-left: 1700px;
        font-weight: bold;
    }
</style>

<div class="container-custom mt-3">
    <form action="{% url 'placeorder' %}" method="POST">
        {% csrf_token %}
        <div class="row">
            <!-- Basic Details Section -->
            <div class="col-md-6">
                <div class="card shadow">
                    <div class="card-body">
                        <h2 class="card-title-custom">Basic Details</h2>
                        <hr>
                        <div class="row">
                            <div class="col-md-6 mt-2">
                                <label class="form-label">First Name</label>
                                <input type="text" required value="{{ request.user.first_name }}" class="form-control form-control-custom" name="Fname" placeholder="Enter first name">
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">Last Name</label>
                                <input type="text" required value="{{ request.user.last_name }}" class="form-control form-control-custom" name="Lname" placeholder="Enter Last name">
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">Email</label>
                                <input type="email" required value="{{ request.user.email }}" class="form-control form-control-custom" name="Email" placeholder="Enter Email">
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">Phone</label>
                                <input type="text" required value="{{ Userprofile.phone }}" class="form-control form-control-custom" name="Phone" placeholder="Enter Phone">
                            </div>
                            <div class="col-md-12 mt-3">
                                <label class="form-label">Address</label>
                                <textarea required class="form-control form-textarea" name="Address" placeholder="Enter Address">{{ Userprofile.address }}</textarea>
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">City</label>
                                <input type="text" required value="{{ Userprofile.city }}" class="form-control form-control-custom" name="City" placeholder="Enter City">
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">State</label>
                                <input type="text" required value="{{ Userprofile.state }}" class="form-control form-control-custom" name="State" placeholder="Enter State">
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">Country</label>
                                <input type="text" required value="{{ Userprofile.country }}" class="form-control form-control-custom" name="Country" placeholder="Enter Country">
                            </div>
                            <div class="col-md-6 mt-2">
                                <label class="form-label">Pincode</label>
                                <input type="text" required value="{{ Userprofile.pincode }}" class="form-control form-control-custom" name="Pincode" placeholder="Enter Pincode">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Order Summary Section -->
            <div class="col-md-5">
                <div class="card shadow">
                    <div class="card-body">
                        <h3 class="card-title-custom">Order Summary</h3>
                        <hr>
                        {% if cartitems %}
                            <table class="table table-striped table-bordered order-summary-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Qty</th>
                                        <th>Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in cartitems %}
                                        <tr>
                                            <td>
                                                <img src="{{ item.product.Product_image.url }}" />
                                                {{ item.product.name }}
                                            </td>
                                            <td>{{ item.product_qty }}</td>
                                            <td>{{ item.product.Selling_Price }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            <h6 class="order-summary-grand-total">Grand Total
                                <span class="float-end">Rs {{ total_price }}</span>
                            </h6> 
                            <div class="mt-3">
                                <button type="submit" class="btn btn-success w-100 btn-place-order">COD | Place Order</button>
                            </div>
                        {% else %}
                            <h4>Your Cart is Empty</h4>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<footer>
    <div class="footer-col about">
        <h4>About us</h4>
        <p>I am a skilled web developer specializing in Python full stack development. With expertise in both front-end and back-end technologies, I create responsive, high-quality web applications tailored to client needs. Let’s collaborate to build exceptional digital solutions together.</p>
    </div>
    <div class="footer-col services">
        <h4>Categories</h4>
        <ul>
            <li><a href="#">Web Design</a></li>
            <li><a href="#">Web Development</a></li>
            <li><a href="#">SEO</a></li>
            <li><a href="#">Content Writing</a></li>
            <li><a href="#">Graphic Design</a></li>
        </ul>
    </div>
    <div class="footer-col company">
        <h4>Company</h4>
        <ul>
            <li><a href="#">About us</a></li>
            <li><a href="#">Our Services</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Affiliate Program</a></li>
        </ul>
    </div>
    <div class="footer-col follow-us">
        <h4>Follow us</h4>
        <div class="links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
    </div>
    <div class="line">
        <p>2024 © All Rights Reserved | Designed & Developed by <strong>Your Company</strong></p>
    </div>
</footer>

{% endblock %}
